<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RandomWalk</title>
<style>
body {
  display: flex; /* Use Flexbox                    */
  justify-content: center; /* Center Horizontally            */
}
.ball {
  width: 100px;
  height: 100px;
  border-radius: 50%; /* Turns a square into a circle   */
  background-color: #ff5722; /* Sets color to Orange   */        
  position: absolute;
  z-index: 5;
}
.container {
  position: relative;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: yellow;
  
}
</style>

</head>
<body>
  <div id = "area"></div>
    <script>
const area = {
  element: document.getElementById('area'),
  width: 600,
  height: 400,
};

function initialize() {
  area.element.style.width = area.width + 'px';
  area.element.style.height = area.height + 'px';
  document.body.appendChild(area.element);
}

function moveTo(ball, x, y) {
  ball.element.style.left = x + 'px';
  ball.element.style.top = y + 'px';
}


function changeDirectionIfNecessary(ball, x, y) {
  if (x < 0 || x > area.width - ball.width) {
    ball.dx = -ball.dx;
  }
  if (y < 0 || y > area.height - ball.height) {
    ball.dy = -ball.dy;
  }
}

function create(color, dx, dy) {
  const newBall = Object.create(this);
  newBall.dx = dx;
  newBall.dy = dy;
  newBall.width = 40;
  newBall.height = 40;

  newBall.element = document.createElement('div');
  newBall.element.style.backgroundColor = color;
  newBall.element.style.width = newBall.width + 'px';
  newBall.element.style.height = newBall.height + 'px';

  newBall.element.className += ' ball';

  newBall.width = parseInt(newBall.element.style.width);
  newBall.height = parseInt(newBall.element.style.height);

  area.element.appendChild(newBall.element);
  return newBall;
}

// TODO: implement the update function
function update(ball, x, y) {
  moveTo(ball, x, y);
  setTimeout(function () {
    changeDirectionIfNecessary(ball, x, y);
    update(ball, x + ball.dx, y + ball.dy);
  }, 1000 / 60);
}

initialize();
const ball1 = create('blue', 3, 3);
const ball2 = create('red', 4, 4);
const ball3 = create('green', 2, 2);
moveTo(ball1, 1, 1);
moveTo(ball2, 10, 10);
moveTo(ball3, 20, 20);




update(ball1, 70, 0);
update(ball2, 20, 200);
update(ball3, 300, 330);

if (typeof module !== 'undefined') {
  module.exports = { update, create, changeDirectionIfNecessary, moveTo, area };
}
</script>
</body>
</html>